/*! DIFF | 2021 ~ Mark Hillard | (mark@)markhillard.com */
var diffOutput=document.getElementById("diffOutput");function diff(e){"use strict";for(var t=difflib.stringAsLines(document.getElementById("baseText").value),i=difflib.stringAsLines(document.getElementById("newText").value),n=new difflib.SequenceMatcher(t,i).get_opcodes(),l=document.getElementById("contextSize").value;"fullscreen"!==diffOutput.lastChild.className;)diffOutput.removeChild(diffOutput.lastChild);t.toString()===i.toString()?(diffOutput.style.display="none",alert("perfect match!")):(l=l||null,diffOutput.style.display="block",diffOutput.appendChild(diffview.buildView({baseTextLines:t,newTextLines:i,opcodes:n,baseTextName:"Base Text",newTextName:"New Text",contextSize:l,viewType:e})))}function contextUpdate(){null!==diffOutput.offsetParent&&(document.getElementsByClassName("diff")[0].classList.contains("inlinediff")?diff(1):diff(0))}function fullScreen(e){diffOutput.classList.toggle("expand"),"Expand"===e.getAttribute("title")?e.setAttribute("title","Collapse"):e.setAttribute("title","Expand")}function clearAll(){diffOutput.style.display="none",document.getElementById("baseText").value="",document.getElementById("newText").value=""}
