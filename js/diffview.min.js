var diffview={buildView:function(e){var t=e.baseTextLines,n=e.newTextLines,d=e.opcodes,i=e.baseTextName||"Base Text",a=e.newTextName||"New Text",l=e.contextSize,h=0==e.viewType||1==e.viewType?e.viewType:0;if(null==t)throw"Cannot build diff view; baseTextLines is not defined.";if(null==n)throw"Cannot build diff view; newTextLines is not defined.";if(!d)throw"Canno build diff view; opcodes is not defined.";function p(e,t){e=document.createElement(e);return e.className=t,e}function c(e,t){e=document.createElement(e);return e.appendChild(document.createTextNode(t)),e}function r(e,t,n){e=document.createElement(e);return e.className=t,e.appendChild(document.createTextNode(n)),e}var o=document.createElement("thead"),u=document.createElement("tr");o.appendChild(u),h?(u.appendChild(document.createElement("th")),u.appendChild(document.createElement("th")),u.appendChild(r("th","texttitle",i+" vs. "+a))):(u.appendChild(document.createElement("th")),u.appendChild(r("th","texttitle",i)),u.appendChild(document.createElement("th")),u.appendChild(r("th","texttitle",a))),o=[o];var f,m=[];function s(e,t,n,d,i){return t<n?(e.appendChild(c("th",(t+1).toString())),e.appendChild(r("td",i,d[t].replace(/\t/g,"    "))),t+1):(e.appendChild(document.createElement("th")),e.appendChild(p("td","empty")),t)}function C(e,t,n,d,i){e.appendChild(c("th",null==t?"":(t+1).toString())),e.appendChild(c("th",null==n?"":(n+1).toString())),e.appendChild(r("td",i,d[null!=t?t:n].replace(/\t/g,"    ")))}for(var g=0;g<d.length;g++){code=d[g],change=code[0];for(var w=code[1],b=code[2],v=code[3],x=code[4],E=Math.max(b-w,x-v),T=[],y=[],N=0;N<E;N++){if(l&&1<d.length&&(0<g&&N==l||0==g&&0==N)&&"equal"==change){var k=E-(0==g?1:2)*l;if(1<k){if(T.push(u=document.createElement("tr")),w+=k,v+=k,N+=k-1,u.appendChild(c("th","...")),h||u.appendChild(r("td","skip","")),u.appendChild(c("th","...")),u.appendChild(r("td","skip","")),g+1==d.length)break;continue}}T.push(u=document.createElement("tr")),h?"insert"==change?C(u,null,v++,n,change):"replace"==change?(y.push(f=document.createElement("tr")),w<b&&C(u,w++,null,t,"delete"),v<x&&C(f,null,v++,n,"insert")):"delete"==change?C(u,w++,null,t,change):C(u,w++,v++,t,change):(w=s(u,w,b,t,change),v=s(u,v,x,n,change))}for(N=0;N<T.length;N++)m.push(T[N]);for(N=0;N<y.length;N++)m.push(y[N])}for(g in m.push(u=r("th","author","diff view generated by ")),u.setAttribute("colspan",h?3:4),u.appendChild(f=c("a","jsdifflib")),f.setAttribute("href","http://github.com/cemerick/jsdifflib"),o.push(u=document.createElement("tbody")),m)m.hasOwnProperty(g)&&u.appendChild(m[g]);for(g in u=p("table","diff"+(h?" inlinediff":"")),o)o.hasOwnProperty(g)&&u.appendChild(o[g]);return u}};
